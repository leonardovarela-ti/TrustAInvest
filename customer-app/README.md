# TrustAInvest Customer App

This is the customer-facing application for TrustAInvest, built with Flutter for web.

## Development Setup

### Prerequisites

- Flutter SDK (stable channel)
- Dart SDK
- Docker and Docker Compose (for containerized deployment)

### Local Development

1. Install dependencies:
   ```bash
   cd customer-app
   flutter pub get
   ```

2. Run the app in development mode:
   ```bash
   flutter run -d chrome
   ```

   This will use the API_BASE_URL from the `.env` file, which is set to `http://localhost:8086` for local development.

### Building for Web

To build the app for web deployment:

```bash
./build_web.sh
```

This script will:
1. Get all dependencies
2. Build the Flutter app for web in release mode
3. Create a `config.json` file in the build output with the local API_BASE_URL

The built files will be available in the `build/web` directory.

### Docker Deployment

The app is configured to run in a Docker container as part of the TrustAInvest stack.

To build and run the entire stack:

```bash
cd /path/to/TrustAInvest.com
docker-compose up -d
```

When running in Docker:
- The app will be available at http://localhost:3001
- The API_BASE_URL will be set to http://user-registration-service:8080 (internal Docker network)

To build only the customer-app container:

```bash
docker-compose build customer-app
```

## Configuration

The app uses a configuration system that supports both local development and containerized deployment:

- For local development: The app reads from `.env` file and `assets/config/config.json`
- For Docker deployment: The app uses the `config.json` file generated by the entrypoint script, which uses the `API_BASE_URL` environment variable set in `docker-compose.yml`

## Architecture

The app follows a clean architecture approach:

- `lib/models/`: Data models
- `lib/screens/`: UI screens
- `lib/services/`: Business logic and API services
- `lib/utils/`: Utility functions and helpers
- `lib/widgets/`: Reusable UI components

## API Integration

The app communicates with the TrustAInvest backend services, primarily the user-registration-service, which is available:

- Locally at: http://localhost:8086
- In Docker at: http://user-registration-service:8080 (internal Docker network)
